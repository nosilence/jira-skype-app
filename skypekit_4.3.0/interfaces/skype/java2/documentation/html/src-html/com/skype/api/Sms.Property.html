<HTML>
<BODY BGCOLOR="white">
<PRE>
<FONT color="green">001</FONT>    package com.skype.api;<a name="line.1"></a>
<FONT color="green">002</FONT>    <a name="line.2"></a>
<FONT color="green">003</FONT>    import com.skype.ipc.SidRoot;<a name="line.3"></a>
<FONT color="green">004</FONT>    import com.skype.ipc.SidObject;<a name="line.4"></a>
<FONT color="green">005</FONT>    import com.skype.ipc.EnumConverting;<a name="line.5"></a>
<FONT color="green">006</FONT>    import com.skype.ipc.PropertyEnumConverting;<a name="line.6"></a>
<FONT color="green">007</FONT>    import com.skype.ipc.Decoding;<a name="line.7"></a>
<FONT color="green">008</FONT>    import com.skype.ipc.Encoding;<a name="line.8"></a>
<FONT color="green">009</FONT>    import com.skype.ipc.Encoding;<a name="line.9"></a>
<FONT color="green">010</FONT>    import java.io.IOException;<a name="line.10"></a>
<FONT color="green">011</FONT>    import com.skype.ipc.PropertyEnumConverting;<a name="line.11"></a>
<FONT color="green">012</FONT>    import com.skype.ipc.SidGetResponding;<a name="line.12"></a>
<FONT color="green">013</FONT>    <a name="line.13"></a>
<FONT color="green">014</FONT>    /**<a name="line.14"></a>
<FONT color="green">015</FONT>     * Wrapper class that includes SMS-specific properties and methods, such as P_BODY and GetTargetPrice. Instantiate SMS instances using Skype.CreateOutgoingSms; post SMS messages to a Conversation using Conversation.PostSMS.  <a name="line.15"></a>
<FONT color="green">016</FONT>     * <a name="line.16"></a>
<FONT color="green">017</FONT>     * Each SMS can have multiple targets (normalized phone numbers). Note that in a Conversation context, every SMS instance has a corresponding Message instance. Once you've posted an SMS, you can retrieve its corresponding Message instance using Sms.GetPropChatmsgId. That Message instance's P_BODY_XML property contains the SMS message data, such as price, target phone number(s), failure codes, and so forth, which you can parsed out and display in the UI. To put it another way, the object chain goes like this: <a name="line.17"></a>
<FONT color="green">018</FONT>     * <a name="line.18"></a>
<FONT color="green">019</FONT>     * @code <a name="line.19"></a>
<FONT color="green">020</FONT>     * Conversation-&gt;Message-&gt;SMS  <a name="line.20"></a>
<FONT color="green">021</FONT>     * &lt;/CODE&gt; <a name="line.21"></a>
<FONT color="green">022</FONT>     * <a name="line.22"></a>
<FONT color="green">023</FONT>     * Note that SkypeKit SDK supports outgoing SMS messages only. SkypeKit clients, even when logged in with accounts that have SkypeIn numbers, cannot receive SMS messages. <a name="line.23"></a>
<FONT color="green">024</FONT>     */<a name="line.24"></a>
<FONT color="green">025</FONT>    public final class Sms extends SidObject {<a name="line.25"></a>
<FONT color="green">026</FONT>            public enum Type implements EnumConverting {<a name="line.26"></a>
<FONT color="green">027</FONT>                    /** a normal outgoing SMS message */<a name="line.27"></a>
<FONT color="green">028</FONT>                    OUTGOING                 (2),<a name="line.28"></a>
<FONT color="green">029</FONT>                    /** a message requesting a SMS confirmation code be sent to the number provided */<a name="line.29"></a>
<FONT color="green">030</FONT>                    CONFIRMATION_CODE_REQUEST(3),<a name="line.30"></a>
<FONT color="green">031</FONT>                    /** a message returning the SMS confirmation code received as a result of a CONFIRMATION_CODE_REQUEST to authorize it */<a name="line.31"></a>
<FONT color="green">032</FONT>                    CONFIRMATION_CODE_SUBMIT (4);<a name="line.32"></a>
<FONT color="green">033</FONT>                    private final int key;<a name="line.33"></a>
<FONT color="green">034</FONT>                    Type(int key) {<a name="line.34"></a>
<FONT color="green">035</FONT>                            this.key = key;<a name="line.35"></a>
<FONT color="green">036</FONT>                    };<a name="line.36"></a>
<FONT color="green">037</FONT>                    public int getId()   { return key; }<a name="line.37"></a>
<FONT color="green">038</FONT>                    public EnumConverting getDefault() { return OUTGOING; }<a name="line.38"></a>
<FONT color="green">039</FONT>                    public EnumConverting convert(int from) { return Type.get(from); }<a name="line.39"></a>
<FONT color="green">040</FONT>                    public EnumConverting[] getArray(final int size) { return new Type[size]; }<a name="line.40"></a>
<FONT color="green">041</FONT>                    public static Type get(int from) {<a name="line.41"></a>
<FONT color="green">042</FONT>                            switch (from) {<a name="line.42"></a>
<FONT color="green">043</FONT>                            case 2: return OUTGOING;<a name="line.43"></a>
<FONT color="green">044</FONT>                            case 3: return CONFIRMATION_CODE_REQUEST;<a name="line.44"></a>
<FONT color="green">045</FONT>                            case 4: return CONFIRMATION_CODE_SUBMIT;<a name="line.45"></a>
<FONT color="green">046</FONT>                            }<a name="line.46"></a>
<FONT color="green">047</FONT>                            return OUTGOING;<a name="line.47"></a>
<FONT color="green">048</FONT>                    }<a name="line.48"></a>
<FONT color="green">049</FONT>                    public static final int OUTGOING_VALUE                  = 2;<a name="line.49"></a>
<FONT color="green">050</FONT>                    public static final int CONFIRMATION_CODE_REQUEST_VALUE = 3;<a name="line.50"></a>
<FONT color="green">051</FONT>                    public static final int CONFIRMATION_CODE_SUBMIT_VALUE  = 4;<a name="line.51"></a>
<FONT color="green">052</FONT>            }<a name="line.52"></a>
<FONT color="green">053</FONT>            public enum OutgoingReplyType implements EnumConverting {<a name="line.53"></a>
<FONT color="green">054</FONT>                    /** outgoing Sms source ID is set to skypename (where applicable) */<a name="line.54"></a>
<FONT color="green">055</FONT>                    REPLY_SKYPENAME           (1),<a name="line.55"></a>
<FONT color="green">056</FONT>                    /** user's verified mobile nr is used as outgoing Sms source ID */<a name="line.56"></a>
<FONT color="green">057</FONT>                    REPLY_USER_PHONE_NR       (2),<a name="line.57"></a>
<FONT color="green">058</FONT>                    /** outgoing Sms source ID was allocated from 2-way number pool */<a name="line.58"></a>
<FONT color="green">059</FONT>                    REPLY_2WAY_AUTOASSIGNED_NR(3),<a name="line.59"></a>
<FONT color="green">060</FONT>                    /** outgoing Sms targets have different types, use GetTargetReplyType to see the real type */<a name="line.60"></a>
<FONT color="green">061</FONT>                    REPLY_TYPE_MIXED          (4);<a name="line.61"></a>
<FONT color="green">062</FONT>                    private final int key;<a name="line.62"></a>
<FONT color="green">063</FONT>                    OutgoingReplyType(int key) {<a name="line.63"></a>
<FONT color="green">064</FONT>                            this.key = key;<a name="line.64"></a>
<FONT color="green">065</FONT>                    };<a name="line.65"></a>
<FONT color="green">066</FONT>                    public int getId()   { return key; }<a name="line.66"></a>
<FONT color="green">067</FONT>                    public EnumConverting getDefault() { return REPLY_SKYPENAME; }<a name="line.67"></a>
<FONT color="green">068</FONT>                    public EnumConverting convert(int from) { return OutgoingReplyType.get(from); }<a name="line.68"></a>
<FONT color="green">069</FONT>                    public EnumConverting[] getArray(final int size) { return new OutgoingReplyType[size]; }<a name="line.69"></a>
<FONT color="green">070</FONT>                    public static OutgoingReplyType get(int from) {<a name="line.70"></a>
<FONT color="green">071</FONT>                            switch (from) {<a name="line.71"></a>
<FONT color="green">072</FONT>                            case 1: return REPLY_SKYPENAME;<a name="line.72"></a>
<FONT color="green">073</FONT>                            case 2: return REPLY_USER_PHONE_NR;<a name="line.73"></a>
<FONT color="green">074</FONT>                            case 3: return REPLY_2WAY_AUTOASSIGNED_NR;<a name="line.74"></a>
<FONT color="green">075</FONT>                            case 4: return REPLY_TYPE_MIXED;<a name="line.75"></a>
<FONT color="green">076</FONT>                            }<a name="line.76"></a>
<FONT color="green">077</FONT>                            return REPLY_SKYPENAME;<a name="line.77"></a>
<FONT color="green">078</FONT>                    }<a name="line.78"></a>
<FONT color="green">079</FONT>                    public static final int REPLY_SKYPENAME_VALUE            = 1;<a name="line.79"></a>
<FONT color="green">080</FONT>                    public static final int REPLY_USER_PHONE_NR_VALUE        = 2;<a name="line.80"></a>
<FONT color="green">081</FONT>                    public static final int REPLY_2WAY_AUTOASSIGNED_NR_VALUE = 3;<a name="line.81"></a>
<FONT color="green">082</FONT>                    public static final int REPLY_TYPE_MIXED_VALUE           = 4;<a name="line.82"></a>
<FONT color="green">083</FONT>            }<a name="line.83"></a>
<FONT color="green">084</FONT>            public enum Status implements EnumConverting {<a name="line.84"></a>
<FONT color="green">085</FONT>                    /** SMS can be edited and targets changed */<a name="line.85"></a>
<FONT color="green">086</FONT>                    COMPOSING          (3),<a name="line.86"></a>
<FONT color="green">087</FONT>                    /** SMS is being sent currently to server */<a name="line.87"></a>
<FONT color="green">088</FONT>                    SENDING_TO_SERVER  (4),<a name="line.88"></a>
<FONT color="green">089</FONT>                    /** SMS has been sent to server, pending delivery notification */<a name="line.89"></a>
<FONT color="green">090</FONT>                    SENT_TO_SERVER     (5),<a name="line.90"></a>
<FONT color="green">091</FONT>                    /** SMS has been successfully delivered to all recipients */<a name="line.91"></a>
<FONT color="green">092</FONT>                    DELIVERED          (6),<a name="line.92"></a>
<FONT color="green">093</FONT>                    /** SMS has been delivered to some recipients, but some failed */<a name="line.93"></a>
<FONT color="green">094</FONT>                    SOME_TARGETS_FAILED(7),<a name="line.94"></a>
<FONT color="green">095</FONT>                    /** SMS has not been delivered to any recipient */<a name="line.95"></a>
<FONT color="green">096</FONT>                    FAILED             (8);<a name="line.96"></a>
<FONT color="green">097</FONT>                    private final int key;<a name="line.97"></a>
<FONT color="green">098</FONT>                    Status(int key) {<a name="line.98"></a>
<FONT color="green">099</FONT>                            this.key = key;<a name="line.99"></a>
<FONT color="green">100</FONT>                    };<a name="line.100"></a>
<FONT color="green">101</FONT>                    public int getId()   { return key; }<a name="line.101"></a>
<FONT color="green">102</FONT>                    public EnumConverting getDefault() { return COMPOSING; }<a name="line.102"></a>
<FONT color="green">103</FONT>                    public EnumConverting convert(int from) { return Status.get(from); }<a name="line.103"></a>
<FONT color="green">104</FONT>                    public EnumConverting[] getArray(final int size) { return new Status[size]; }<a name="line.104"></a>
<FONT color="green">105</FONT>                    public static Status get(int from) {<a name="line.105"></a>
<FONT color="green">106</FONT>                            switch (from) {<a name="line.106"></a>
<FONT color="green">107</FONT>                            case 3: return COMPOSING;<a name="line.107"></a>
<FONT color="green">108</FONT>                            case 4: return SENDING_TO_SERVER;<a name="line.108"></a>
<FONT color="green">109</FONT>                            case 5: return SENT_TO_SERVER;<a name="line.109"></a>
<FONT color="green">110</FONT>                            case 6: return DELIVERED;<a name="line.110"></a>
<FONT color="green">111</FONT>                            case 7: return SOME_TARGETS_FAILED;<a name="line.111"></a>
<FONT color="green">112</FONT>                            case 8: return FAILED;<a name="line.112"></a>
<FONT color="green">113</FONT>                            }<a name="line.113"></a>
<FONT color="green">114</FONT>                            return COMPOSING;<a name="line.114"></a>
<FONT color="green">115</FONT>                    }<a name="line.115"></a>
<FONT color="green">116</FONT>                    public static final int COMPOSING_VALUE           = 3;<a name="line.116"></a>
<FONT color="green">117</FONT>                    public static final int SENDING_TO_SERVER_VALUE   = 4;<a name="line.117"></a>
<FONT color="green">118</FONT>                    public static final int SENT_TO_SERVER_VALUE      = 5;<a name="line.118"></a>
<FONT color="green">119</FONT>                    public static final int DELIVERED_VALUE           = 6;<a name="line.119"></a>
<FONT color="green">120</FONT>                    public static final int SOME_TARGETS_FAILED_VALUE = 7;<a name="line.120"></a>
<FONT color="green">121</FONT>                    public static final int FAILED_VALUE              = 8;<a name="line.121"></a>
<FONT color="green">122</FONT>            }<a name="line.122"></a>
<FONT color="green">123</FONT>            public enum FailureReason implements EnumConverting {<a name="line.123"></a>
<FONT color="green">124</FONT>                    MISC_ERROR               (1),<a name="line.124"></a>
<FONT color="green">125</FONT>                    SERVER_CONNECT_FAILED    (2),<a name="line.125"></a>
<FONT color="green">126</FONT>                    NO_SMS_CAPABILITY        (3),<a name="line.126"></a>
<FONT color="green">127</FONT>                    INSUFFICIENT_FUNDS       (4),<a name="line.127"></a>
<FONT color="green">128</FONT>                    INVALID_CONFIRMATION_CODE(5),<a name="line.128"></a>
<FONT color="green">129</FONT>                    USER_BLOCKED             (6),<a name="line.129"></a>
<FONT color="green">130</FONT>                    IP_BLOCKED               (7),<a name="line.130"></a>
<FONT color="green">131</FONT>                    NODE_BLOCKED             (8),<a name="line.131"></a>
<FONT color="green">132</FONT>                    NO_SENDERID_CAPABILITY   (9);<a name="line.132"></a>
<FONT color="green">133</FONT>                    private final int key;<a name="line.133"></a>
<FONT color="green">134</FONT>                    FailureReason(int key) {<a name="line.134"></a>
<FONT color="green">135</FONT>                            this.key = key;<a name="line.135"></a>
<FONT color="green">136</FONT>                    };<a name="line.136"></a>
<FONT color="green">137</FONT>                    public int getId()   { return key; }<a name="line.137"></a>
<FONT color="green">138</FONT>                    public EnumConverting getDefault() { return MISC_ERROR; }<a name="line.138"></a>
<FONT color="green">139</FONT>                    public EnumConverting convert(int from) { return FailureReason.get(from); }<a name="line.139"></a>
<FONT color="green">140</FONT>                    public EnumConverting[] getArray(final int size) { return new FailureReason[size]; }<a name="line.140"></a>
<FONT color="green">141</FONT>                    public static FailureReason get(int from) {<a name="line.141"></a>
<FONT color="green">142</FONT>                            switch (from) {<a name="line.142"></a>
<FONT color="green">143</FONT>                            case 1: return MISC_ERROR;<a name="line.143"></a>
<FONT color="green">144</FONT>                            case 2: return SERVER_CONNECT_FAILED;<a name="line.144"></a>
<FONT color="green">145</FONT>                            case 3: return NO_SMS_CAPABILITY;<a name="line.145"></a>
<FONT color="green">146</FONT>                            case 4: return INSUFFICIENT_FUNDS;<a name="line.146"></a>
<FONT color="green">147</FONT>                            case 5: return INVALID_CONFIRMATION_CODE;<a name="line.147"></a>
<FONT color="green">148</FONT>                            case 6: return USER_BLOCKED;<a name="line.148"></a>
<FONT color="green">149</FONT>                            case 7: return IP_BLOCKED;<a name="line.149"></a>
<FONT color="green">150</FONT>                            case 8: return NODE_BLOCKED;<a name="line.150"></a>
<FONT color="green">151</FONT>                            case 9: return NO_SENDERID_CAPABILITY;<a name="line.151"></a>
<FONT color="green">152</FONT>                            }<a name="line.152"></a>
<FONT color="green">153</FONT>                            return MISC_ERROR;<a name="line.153"></a>
<FONT color="green">154</FONT>                    }<a name="line.154"></a>
<FONT color="green">155</FONT>                    public static final int MISC_ERROR_VALUE                = 1;<a name="line.155"></a>
<FONT color="green">156</FONT>                    public static final int SERVER_CONNECT_FAILED_VALUE     = 2;<a name="line.156"></a>
<FONT color="green">157</FONT>                    public static final int NO_SMS_CAPABILITY_VALUE         = 3;<a name="line.157"></a>
<FONT color="green">158</FONT>                    public static final int INSUFFICIENT_FUNDS_VALUE        = 4;<a name="line.158"></a>
<FONT color="green">159</FONT>                    public static final int INVALID_CONFIRMATION_CODE_VALUE = 5;<a name="line.159"></a>
<FONT color="green">160</FONT>                    public static final int USER_BLOCKED_VALUE              = 6;<a name="line.160"></a>
<FONT color="green">161</FONT>                    public static final int IP_BLOCKED_VALUE                = 7;<a name="line.161"></a>
<FONT color="green">162</FONT>                    public static final int NODE_BLOCKED_VALUE              = 8;<a name="line.162"></a>
<FONT color="green">163</FONT>                    public static final int NO_SENDERID_CAPABILITY_VALUE    = 9;<a name="line.163"></a>
<FONT color="green">164</FONT>            }<a name="line.164"></a>
<FONT color="green">165</FONT>            /** this status shows target properties and usability for sending */<a name="line.165"></a>
<FONT color="green">166</FONT>            public enum TargetStatus implements EnumConverting {<a name="line.166"></a>
<FONT color="green">167</FONT>                    TARGET_ANALYZING          (1),<a name="line.167"></a>
<FONT color="green">168</FONT>                    TARGET_UNDEFINED          (2),<a name="line.168"></a>
<FONT color="green">169</FONT>                    TARGET_ACCEPTABLE         (3),<a name="line.169"></a>
<FONT color="green">170</FONT>                    TARGET_NOT_ROUTABLE       (4),<a name="line.170"></a>
<FONT color="green">171</FONT>                    TARGET_DELIVERY_PENDING   (5),<a name="line.171"></a>
<FONT color="green">172</FONT>                    TARGET_DELIVERY_SUCCESSFUL(6),<a name="line.172"></a>
<FONT color="green">173</FONT>                    TARGET_DELIVERY_FAILED    (7);<a name="line.173"></a>
<FONT color="green">174</FONT>                    private final int key;<a name="line.174"></a>
<FONT color="green">175</FONT>                    TargetStatus(int key) {<a name="line.175"></a>
<FONT color="green">176</FONT>                            this.key = key;<a name="line.176"></a>
<FONT color="green">177</FONT>                    };<a name="line.177"></a>
<FONT color="green">178</FONT>                    public int getId()   { return key; }<a name="line.178"></a>
<FONT color="green">179</FONT>                    public EnumConverting getDefault() { return TARGET_ANALYZING; }<a name="line.179"></a>
<FONT color="green">180</FONT>                    public EnumConverting convert(int from) { return TargetStatus.get(from); }<a name="line.180"></a>
<FONT color="green">181</FONT>                    public EnumConverting[] getArray(final int size) { return new TargetStatus[size]; }<a name="line.181"></a>
<FONT color="green">182</FONT>                    public static TargetStatus get(int from) {<a name="line.182"></a>
<FONT color="green">183</FONT>                            switch (from) {<a name="line.183"></a>
<FONT color="green">184</FONT>                            case 1: return TARGET_ANALYZING;<a name="line.184"></a>
<FONT color="green">185</FONT>                            case 2: return TARGET_UNDEFINED;<a name="line.185"></a>
<FONT color="green">186</FONT>                            case 3: return TARGET_ACCEPTABLE;<a name="line.186"></a>
<FONT color="green">187</FONT>                            case 4: return TARGET_NOT_ROUTABLE;<a name="line.187"></a>
<FONT color="green">188</FONT>                            case 5: return TARGET_DELIVERY_PENDING;<a name="line.188"></a>
<FONT color="green">189</FONT>                            case 6: return TARGET_DELIVERY_SUCCESSFUL;<a name="line.189"></a>
<FONT color="green">190</FONT>                            case 7: return TARGET_DELIVERY_FAILED;<a name="line.190"></a>
<FONT color="green">191</FONT>                            }<a name="line.191"></a>
<FONT color="green">192</FONT>                            return TARGET_ANALYZING;<a name="line.192"></a>
<FONT color="green">193</FONT>                    }<a name="line.193"></a>
<FONT color="green">194</FONT>                    public static final int TARGET_ANALYZING_VALUE           = 1;<a name="line.194"></a>
<FONT color="green">195</FONT>                    public static final int TARGET_UNDEFINED_VALUE           = 2;<a name="line.195"></a>
<FONT color="green">196</FONT>                    public static final int TARGET_ACCEPTABLE_VALUE          = 3;<a name="line.196"></a>
<FONT color="green">197</FONT>                    public static final int TARGET_NOT_ROUTABLE_VALUE        = 4;<a name="line.197"></a>
<FONT color="green">198</FONT>                    public static final int TARGET_DELIVERY_PENDING_VALUE    = 5;<a name="line.198"></a>
<FONT color="green">199</FONT>                    public static final int TARGET_DELIVERY_SUCCESSFUL_VALUE = 6;<a name="line.199"></a>
<FONT color="green">200</FONT>                    public static final int TARGET_DELIVERY_FAILED_VALUE     = 7;   }<a name="line.200"></a>
<FONT color="green">201</FONT>            public enum SetBodyResult implements EnumConverting {<a name="line.201"></a>
<FONT color="green">202</FONT>                    /** body not set. message status wrong or invalid, or body not valid utf8 string */<a name="line.202"></a>
<FONT color="green">203</FONT>                    BODY_INVALID         (0),<a name="line.203"></a>
<FONT color="green">204</FONT>                    /** body too long. set, but truncated. charsUntilNextChunk contains maxChunks value */<a name="line.204"></a>
<FONT color="green">205</FONT>                    BODY_TRUNCATED       (1),<a name="line.205"></a>
<FONT color="green">206</FONT>                    /** body was set OK */<a name="line.206"></a>
<FONT color="green">207</FONT>                    BODY_OK              (2),<a name="line.207"></a>
<FONT color="green">208</FONT>                    /** last unicode char was ignored, as some of the text would be deleted due to conversion */<a name="line.208"></a>
<FONT color="green">209</FONT>                    BODY_LASTCHAR_IGNORED(3);<a name="line.209"></a>
<FONT color="green">210</FONT>                    private final int key;<a name="line.210"></a>
<FONT color="green">211</FONT>                    SetBodyResult(int key) {<a name="line.211"></a>
<FONT color="green">212</FONT>                            this.key = key;<a name="line.212"></a>
<FONT color="green">213</FONT>                    };<a name="line.213"></a>
<FONT color="green">214</FONT>                    public int getId()   { return key; }<a name="line.214"></a>
<FONT color="green">215</FONT>                    public EnumConverting getDefault() { return BODY_INVALID; }<a name="line.215"></a>
<FONT color="green">216</FONT>                    public EnumConverting convert(int from) { return SetBodyResult.get(from); }<a name="line.216"></a>
<FONT color="green">217</FONT>                    public EnumConverting[] getArray(final int size) { return new SetBodyResult[size]; }<a name="line.217"></a>
<FONT color="green">218</FONT>                    public static SetBodyResult get(int from) {<a name="line.218"></a>
<FONT color="green">219</FONT>                            switch (from) {<a name="line.219"></a>
<FONT color="green">220</FONT>                            case 0: return BODY_INVALID;<a name="line.220"></a>
<FONT color="green">221</FONT>                            case 1: return BODY_TRUNCATED;<a name="line.221"></a>
<FONT color="green">222</FONT>                            case 2: return BODY_OK;<a name="line.222"></a>
<FONT color="green">223</FONT>                            case 3: return BODY_LASTCHAR_IGNORED;<a name="line.223"></a>
<FONT color="green">224</FONT>                            }<a name="line.224"></a>
<FONT color="green">225</FONT>                            return BODY_INVALID;<a name="line.225"></a>
<FONT color="green">226</FONT>                    }<a name="line.226"></a>
<FONT color="green">227</FONT>                    public static final int BODY_INVALID_VALUE          = 0;<a name="line.227"></a>
<FONT color="green">228</FONT>                    public static final int BODY_TRUNCATED_VALUE        = 1;<a name="line.228"></a>
<FONT color="green">229</FONT>                    public static final int BODY_OK_VALUE               = 2;<a name="line.229"></a>
<FONT color="green">230</FONT>                    public static final int BODY_LASTCHAR_IGNORED_VALUE = 3;<a name="line.230"></a>
<FONT color="green">231</FONT>            }<a name="line.231"></a>
<FONT color="green">232</FONT>            public enum ConfirmType implements EnumConverting {<a name="line.232"></a>
<FONT color="green">233</FONT>                    /** Confirm mobile number as SMS sender number */<a name="line.233"></a>
<FONT color="green">234</FONT>                    ID_SMS    (1),<a name="line.234"></a>
<FONT color="green">235</FONT>                    /** Confirm mobile number as CLI for SkypeOut calls */<a name="line.235"></a>
<FONT color="green">236</FONT>                    ID_MOBILE (2),<a name="line.236"></a>
<FONT color="green">237</FONT>                    /** unused currently */<a name="line.237"></a>
<FONT color="green">238</FONT>                    ID_SKYPEIN(3);<a name="line.238"></a>
<FONT color="green">239</FONT>                    private final int key;<a name="line.239"></a>
<FONT color="green">240</FONT>                    ConfirmType(int key) {<a name="line.240"></a>
<FONT color="green">241</FONT>                            this.key = key;<a name="line.241"></a>
<FONT color="green">242</FONT>                    };<a name="line.242"></a>
<FONT color="green">243</FONT>                    public int getId()   { return key; }<a name="line.243"></a>
<FONT color="green">244</FONT>                    public EnumConverting getDefault() { return ID_SMS; }<a name="line.244"></a>
<FONT color="green">245</FONT>                    public EnumConverting convert(int from) { return ConfirmType.get(from); }<a name="line.245"></a>
<FONT color="green">246</FONT>                    public EnumConverting[] getArray(final int size) { return new ConfirmType[size]; }<a name="line.246"></a>
<FONT color="green">247</FONT>                    public static ConfirmType get(int from) {<a name="line.247"></a>
<FONT color="green">248</FONT>                            switch (from) {<a name="line.248"></a>
<FONT color="green">249</FONT>                            case 1: return ID_SMS;<a name="line.249"></a>
<FONT color="green">250</FONT>                            case 2: return ID_MOBILE;<a name="line.250"></a>
<FONT color="green">251</FONT>                            case 3: return ID_SKYPEIN;<a name="line.251"></a>
<FONT color="green">252</FONT>                            }<a name="line.252"></a>
<FONT color="green">253</FONT>                            return ID_SMS;<a name="line.253"></a>
<FONT color="green">254</FONT>                    }<a name="line.254"></a>
<FONT color="green">255</FONT>                    public static final int ID_SMS_VALUE     = 1;<a name="line.255"></a>
<FONT color="green">256</FONT>                    public static final int ID_MOBILE_VALUE  = 2;<a name="line.256"></a>
<FONT color="green">257</FONT>                    public static final int ID_SKYPEIN_VALUE = 3;<a name="line.257"></a>
<FONT color="green">258</FONT>            }<a name="line.258"></a>
<FONT color="green">259</FONT>            private final static byte[] P_TYPE_req = {(byte) 90,(byte) 71,(byte) 190,(byte) 1,(byte) 93,(byte) 12};<a name="line.259"></a>
<FONT color="green">260</FONT>            private final static byte[] P_OUTGOING_REPLY_TYPE_req = {(byte) 90,(byte) 71,(byte) 187,(byte) 9,(byte) 93,(byte) 12};<a name="line.260"></a>
<FONT color="green">261</FONT>            private final static byte[] P_STATUS_req = {(byte) 90,(byte) 71,(byte) 191,(byte) 1,(byte) 93,(byte) 12};<a name="line.261"></a>
<FONT color="green">262</FONT>            private final static byte[] P_FAILURE_REASON_req = {(byte) 90,(byte) 71,(byte) 192,(byte) 1,(byte) 93,(byte) 12};<a name="line.262"></a>
<FONT color="green">263</FONT>            private final static byte[] P_IS_FAILED_UNSEEN_req = {(byte) 90,(byte) 71,(byte) 48,(byte) 93,(byte) 12};<a name="line.263"></a>
<FONT color="green">264</FONT>            private final static byte[] P_TIMESTAMP_req = {(byte) 90,(byte) 71,(byte) 198,(byte) 1,(byte) 93,(byte) 12};<a name="line.264"></a>
<FONT color="green">265</FONT>            private final static byte[] P_PRICE_req = {(byte) 90,(byte) 71,(byte) 193,(byte) 1,(byte) 93,(byte) 12};<a name="line.265"></a>
<FONT color="green">266</FONT>            private final static byte[] P_PRICE_PRECISION_req = {(byte) 90,(byte) 71,(byte) 49,(byte) 93,(byte) 12};<a name="line.266"></a>
<FONT color="green">267</FONT>            private final static byte[] P_PRICE_CURRENCY_req = {(byte) 90,(byte) 71,(byte) 194,(byte) 1,(byte) 93,(byte) 12};<a name="line.267"></a>
<FONT color="green">268</FONT>            private final static byte[] P_REPLY_TO_NUMBER_req = {(byte) 90,(byte) 71,(byte) 199,(byte) 1,(byte) 93,(byte) 12};<a name="line.268"></a>
<FONT color="green">269</FONT>            private final static byte[] P_TARGET_NUMBERS_req = {(byte) 90,(byte) 71,(byte) 195,(byte) 1,(byte) 93,(byte) 12};<a name="line.269"></a>
<FONT color="green">270</FONT>            private final static byte[] P_TARGET_STATUSES_req = {(byte) 90,(byte) 71,(byte) 196,(byte) 1,(byte) 93,(byte) 12};<a name="line.270"></a>
<FONT color="green">271</FONT>            private final static byte[] P_BODY_req = {(byte) 90,(byte) 71,(byte) 197,(byte) 1,(byte) 93,(byte) 12};<a name="line.271"></a>
<FONT color="green">272</FONT>            private final static byte[] P_CHAT_MSG_req = {(byte) 90,(byte) 71,(byte) 200,(byte) 6,(byte) 93,(byte) 12};<a name="line.272"></a>
<FONT color="green">273</FONT>            /** Properties of the Sms class */<a name="line.273"></a>
<FONT color="green">274</FONT>            public enum Property implements PropertyEnumConverting {<a name="line.274"></a>
<FONT color="green">275</FONT>                    P_UNKNOWN            (0,0,null,0,null),<a name="line.275"></a>
<FONT color="green">276</FONT>                    P_TYPE               (190, 1, P_TYPE_req, 0, Type.get(0)),<a name="line.276"></a>
<FONT color="green">277</FONT>                    P_OUTGOING_REPLY_TYPE(1211, 2, P_OUTGOING_REPLY_TYPE_req, 0, OutgoingReplyType.get(0)),<a name="line.277"></a>
<FONT color="green">278</FONT>                    P_STATUS             (191, 3, P_STATUS_req, 0, Status.get(0)),<a name="line.278"></a>
<FONT color="green">279</FONT>                    P_FAILURE_REASON     (192, 4, P_FAILURE_REASON_req, 0, FailureReason.get(0)),<a name="line.279"></a>
<FONT color="green">280</FONT>                    P_IS_FAILED_UNSEEN   (48, 5, P_IS_FAILED_UNSEEN_req, 0, null),<a name="line.280"></a>
<FONT color="green">281</FONT>                    P_TIMESTAMP          (198, 6, P_TIMESTAMP_req, 0, null),<a name="line.281"></a>
<FONT color="green">282</FONT>                    P_PRICE              (193, 7, P_PRICE_req, 0, null),<a name="line.282"></a>
<FONT color="green">283</FONT>                    P_PRICE_PRECISION    (49, 8, P_PRICE_PRECISION_req, 0, null),<a name="line.283"></a>
<FONT color="green">284</FONT>                    P_PRICE_CURRENCY     (194, 9, P_PRICE_CURRENCY_req, 0, null),<a name="line.284"></a>
<FONT color="green">285</FONT>                    P_REPLY_TO_NUMBER    (199, 10, P_REPLY_TO_NUMBER_req, 0, null),<a name="line.285"></a>
<FONT color="green">286</FONT>                    P_TARGET_NUMBERS     (195, 11, P_TARGET_NUMBERS_req, 0, null),<a name="line.286"></a>
<FONT color="green">287</FONT>                    P_TARGET_STATUSES    (196, 12, P_TARGET_STATUSES_req, 0, null),<a name="line.287"></a>
<FONT color="green">288</FONT>                    P_BODY               (197, 13, P_BODY_req, 0, null),<a name="line.288"></a>
<FONT color="green">289</FONT>                    P_CHAT_MSG           (840, 14, P_CHAT_MSG_req, 9, null);<a name="line.289"></a>
<FONT color="green">290</FONT>                    private final int    key;<a name="line.290"></a>
<FONT color="green">291</FONT>                    private final int    idx;<a name="line.291"></a>
<FONT color="green">292</FONT>                    private final byte[] req;<a name="line.292"></a>
<FONT color="green">293</FONT>                    private final int    mod;<a name="line.293"></a>
<FONT color="green">294</FONT>                    private final EnumConverting enumConverter;<a name="line.294"></a>
<FONT color="green">295</FONT>                    Property(int key, int idx, byte[] req, int mod, EnumConverting converter) {<a name="line.295"></a>
<FONT color="green">296</FONT>                            this.key = key;<a name="line.296"></a>
<FONT color="green">297</FONT>                            this.idx = idx;<a name="line.297"></a>
<FONT color="green">298</FONT>                            this.req = req;<a name="line.298"></a>
<FONT color="green">299</FONT>                            this.mod = mod;<a name="line.299"></a>
<FONT color="green">300</FONT>                            this.enumConverter = converter;<a name="line.300"></a>
<FONT color="green">301</FONT>                    };<a name="line.301"></a>
<FONT color="green">302</FONT>                    public boolean  isCached()    { return idx &gt; 0;   }<a name="line.302"></a>
<FONT color="green">303</FONT>                    public int      getIdx()      { return idx;       }<a name="line.303"></a>
<FONT color="green">304</FONT>                    public int      getId()       { return key;       }<a name="line.304"></a>
<FONT color="green">305</FONT>                    public byte[]   getRequest()  { return req;       }<a name="line.305"></a>
<FONT color="green">306</FONT>                    public EnumConverting getDefault()  { return P_UNKNOWN; }<a name="line.306"></a>
<FONT color="green">307</FONT>                    public int      getModuleId() { return mod;       }<a name="line.307"></a>
<FONT color="green">308</FONT>                    public EnumConverting getEnumConverter()    { return enumConverter;   }<a name="line.308"></a>
<FONT color="green">309</FONT>                    public EnumConverting convert(final int from) { return Property.get(from); }<a name="line.309"></a>
<FONT color="green">310</FONT>                    public EnumConverting[] getArray(final int size) { return new Property[size]; }<a name="line.310"></a>
<FONT color="green">311</FONT>                    public static Property get(final int from) {<a name="line.311"></a>
<FONT color="green">312</FONT>                            switch (from) {<a name="line.312"></a>
<FONT color="green">313</FONT>                            case  190: return P_TYPE;<a name="line.313"></a>
<FONT color="green">314</FONT>                            case 1211: return P_OUTGOING_REPLY_TYPE;<a name="line.314"></a>
<FONT color="green">315</FONT>                            case  191: return P_STATUS;<a name="line.315"></a>
<FONT color="green">316</FONT>                            case  192: return P_FAILURE_REASON;<a name="line.316"></a>
<FONT color="green">317</FONT>                            case   48: return P_IS_FAILED_UNSEEN;<a name="line.317"></a>
<FONT color="green">318</FONT>                            case  198: return P_TIMESTAMP;<a name="line.318"></a>
<FONT color="green">319</FONT>                            case  193: return P_PRICE;<a name="line.319"></a>
<FONT color="green">320</FONT>                            case   49: return P_PRICE_PRECISION;<a name="line.320"></a>
<FONT color="green">321</FONT>                            case  194: return P_PRICE_CURRENCY;<a name="line.321"></a>
<FONT color="green">322</FONT>                            case  199: return P_REPLY_TO_NUMBER;<a name="line.322"></a>
<FONT color="green">323</FONT>                            case  195: return P_TARGET_NUMBERS;<a name="line.323"></a>
<FONT color="green">324</FONT>                            case  196: return P_TARGET_STATUSES;<a name="line.324"></a>
<FONT color="green">325</FONT>                            case  197: return P_BODY;<a name="line.325"></a>
<FONT color="green">326</FONT>                            case  840: return P_CHAT_MSG;<a name="line.326"></a>
<FONT color="green">327</FONT>                            }<a name="line.327"></a>
<FONT color="green">328</FONT>                            return P_UNKNOWN;<a name="line.328"></a>
<FONT color="green">329</FONT>                    }<a name="line.329"></a>
<FONT color="green">330</FONT>                    public static final int P_TYPE_VALUE                =  190;<a name="line.330"></a>
<FONT color="green">331</FONT>                    public static final int P_OUTGOING_REPLY_TYPE_VALUE = 1211;<a name="line.331"></a>
<FONT color="green">332</FONT>                    public static final int P_STATUS_VALUE              =  191;<a name="line.332"></a>
<FONT color="green">333</FONT>                    public static final int P_FAILURE_REASON_VALUE      =  192;<a name="line.333"></a>
<FONT color="green">334</FONT>                    public static final int P_IS_FAILED_UNSEEN_VALUE    =   48;<a name="line.334"></a>
<FONT color="green">335</FONT>                    public static final int P_TIMESTAMP_VALUE           =  198;<a name="line.335"></a>
<FONT color="green">336</FONT>                    public static final int P_PRICE_VALUE               =  193;<a name="line.336"></a>
<FONT color="green">337</FONT>                    public static final int P_PRICE_PRECISION_VALUE     =   49;<a name="line.337"></a>
<FONT color="green">338</FONT>                    public static final int P_PRICE_CURRENCY_VALUE      =  194;<a name="line.338"></a>
<FONT color="green">339</FONT>                    public static final int P_REPLY_TO_NUMBER_VALUE     =  199;<a name="line.339"></a>
<FONT color="green">340</FONT>                    public static final int P_TARGET_NUMBERS_VALUE      =  195;<a name="line.340"></a>
<FONT color="green">341</FONT>                    public static final int P_TARGET_STATUSES_VALUE     =  196;<a name="line.341"></a>
<FONT color="green">342</FONT>                    public static final int P_BODY_VALUE                =  197;<a name="line.342"></a>
<FONT color="green">343</FONT>                    public static final int P_CHAT_MSG_VALUE            =  840;<a name="line.343"></a>
<FONT color="green">344</FONT>            }<a name="line.344"></a>
<FONT color="green">345</FONT>            private final static byte[] getTargetStatus_req = {(byte) 90,(byte) 82,(byte) 12,(byte) 4};<a name="line.345"></a>
<FONT color="green">346</FONT>            /** Retrieves the send status of this SMS to a particular recipient (P_TARGET_STATUSES) either prior to or after invoking Conversation.PostSMS. <a name="line.346"></a>
<FONT color="green">347</FONT>             * @param target The normalized phone number of the target recipient. <a name="line.347"></a>
<FONT color="green">348</FONT>             * @return status The send status of the target recipient, for example, TARGET_ANALYZING, TARGET_DELIVERY_PENDING, TARGET_DELIVERY_SUCCESSFUL, TARGET_DELIVERY_FAILED, and so forth. TARGET_UNDEFINED implies that the specified target is not a recipient of this SMS. <a name="line.348"></a>
<FONT color="green">349</FONT>             */<a name="line.349"></a>
<FONT color="green">350</FONT>            public TargetStatus getTargetStatus(String target) {<a name="line.350"></a>
<FONT color="green">351</FONT>                    try {<a name="line.351"></a>
<FONT color="green">352</FONT>                            return (TargetStatus) sidDoRequest(getTargetStatus_req)<a name="line.352"></a>
<FONT color="green">353</FONT>                            .addStringParm(1, target)<a name="line.353"></a>
<FONT color="green">354</FONT>                            .endRequest().getEnumParm(1, TargetStatus.get(0), true);<a name="line.354"></a>
<FONT color="green">355</FONT>                    } catch(IOException e) {<a name="line.355"></a>
<FONT color="green">356</FONT>                            mSidRoot.sidOnFatalError(e);<a name="line.356"></a>
<FONT color="green">357</FONT>                            return TargetStatus.get(0);<a name="line.357"></a>
<FONT color="green">358</FONT>                    }<a name="line.358"></a>
<FONT color="green">359</FONT>            }<a name="line.359"></a>
<FONT color="green">360</FONT>            private final static byte[] getTargetReplyNumber_req = {(byte) 90,(byte) 82,(byte) 12,(byte) 3};<a name="line.360"></a>
<FONT color="green">361</FONT>            /** Call this when target has been delivered, to see what is the assigned number.                      Calling before target has been delivered shows preliminary assigned number, which may not be allocated (ie when delivery fails)   * @param target<a name="line.361"></a>
<FONT color="green">362</FONT>             * @return number<a name="line.362"></a>
<FONT color="green">363</FONT>             */<a name="line.363"></a>
<FONT color="green">364</FONT>            public String getTargetReplyNumber(String target) {<a name="line.364"></a>
<FONT color="green">365</FONT>                    try {<a name="line.365"></a>
<FONT color="green">366</FONT>                            return sidDoRequest(getTargetReplyNumber_req)<a name="line.366"></a>
<FONT color="green">367</FONT>                            .addStringParm(1, target)<a name="line.367"></a>
<FONT color="green">368</FONT>                            .endRequest().getStringParm(1, true);<a name="line.368"></a>
<FONT color="green">369</FONT>                    } catch(IOException e) {<a name="line.369"></a>
<FONT color="green">370</FONT>                            mSidRoot.sidOnFatalError(e);<a name="line.370"></a>
<FONT color="green">371</FONT>                            return "";<a name="line.371"></a>
<FONT color="green">372</FONT>                    }<a name="line.372"></a>
<FONT color="green">373</FONT>            }<a name="line.373"></a>
<FONT color="green">374</FONT>            private final static byte[] getTargetReplyType_req = {(byte) 90,(byte) 82,(byte) 12,(byte) 10};<a name="line.374"></a>
<FONT color="green">375</FONT>            /** Fetch target reply type if toplevel Sms type is REPLY_TYPE_MIXED<a name="line.375"></a>
<FONT color="green">376</FONT>             * @param target<a name="line.376"></a>
<FONT color="green">377</FONT>             * @return type<a name="line.377"></a>
<FONT color="green">378</FONT>             */<a name="line.378"></a>
<FONT color="green">379</FONT>            public OutgoingReplyType getTargetReplyType(String target) {<a name="line.379"></a>
<FONT color="green">380</FONT>                    try {<a name="line.380"></a>
<FONT color="green">381</FONT>                            return (OutgoingReplyType) sidDoRequest(getTargetReplyType_req)<a name="line.381"></a>
<FONT color="green">382</FONT>                            .addStringParm(1, target)<a name="line.382"></a>
<FONT color="green">383</FONT>                            .endRequest().getEnumParm(1, OutgoingReplyType.get(0), true);<a name="line.383"></a>
<FONT color="green">384</FONT>                    } catch(IOException e) {<a name="line.384"></a>
<FONT color="green">385</FONT>                            mSidRoot.sidOnFatalError(e);<a name="line.385"></a>
<FONT color="green">386</FONT>                            return OutgoingReplyType.get(0);<a name="line.386"></a>
<FONT color="green">387</FONT>                    }<a name="line.387"></a>
<FONT color="green">388</FONT>            }<a name="line.388"></a>
<FONT color="green">389</FONT>            private final static byte[] getTargetPrice_req = {(byte) 90,(byte) 82,(byte) 12,(byte) 13};<a name="line.389"></a>
<FONT color="green">390</FONT>            /**<a name="line.390"></a>
<FONT color="green">391</FONT>             * Retrieves the amount of Skype credit necessary to send the SMS to a particular recipient. Defaults to -1 on instantiation and set only when that recipient's status reflects TARGET_ACCEPTABLE. Use Sms.GetPropPrice to retrieve the total cost of this SMS. <a name="line.391"></a>
<FONT color="green">392</FONT>             * <a name="line.392"></a>
<FONT color="green">393</FONT>             * Note that the target price is an integer value. Calculate the actual price (in units specified by P_PRICE_CURRENCY) using P_PRICE_PRECISION as: <a name="line.393"></a>
<FONT color="green">394</FONT>             * @code <a name="line.394"></a>
<FONT color="green">395</FONT>             * actualTargetPrice = targetPrice / 10^pricePrecision;  <a name="line.395"></a>
<FONT color="green">396</FONT>             * &lt;/CODE&gt; <a name="line.396"></a>
<FONT color="green">397</FONT>            <a name="line.397"></a>
<FONT color="green">398</FONT>             * @param target The normalized phone number of the target recipient. <a name="line.398"></a>
<FONT color="green">399</FONT>             * @return price The price of sending this SMS message to the target recipient. <a name="line.399"></a>
<FONT color="green">400</FONT>             */<a name="line.400"></a>
<FONT color="green">401</FONT>            public int getTargetPrice(String target) {<a name="line.401"></a>
<FONT color="green">402</FONT>                    try {<a name="line.402"></a>
<FONT color="green">403</FONT>                            return sidDoRequest(getTargetPrice_req)<a name="line.403"></a>
<FONT color="green">404</FONT>                            .addStringParm(1, target)<a name="line.404"></a>
<FONT color="green">405</FONT>                            .endRequest().getUintParm(1, true);<a name="line.405"></a>
<FONT color="green">406</FONT>                    } catch(IOException e) {<a name="line.406"></a>
<FONT color="green">407</FONT>                            mSidRoot.sidOnFatalError(e);<a name="line.407"></a>
<FONT color="green">408</FONT>                            return 0;<a name="line.408"></a>
<FONT color="green">409</FONT>                    }<a name="line.409"></a>
<FONT color="green">410</FONT>            }<a name="line.410"></a>
<FONT color="green">411</FONT>            private final static byte[] setTargets_req = {(byte) 90,(byte) 82,(byte) 12,(byte) 6};<a name="line.411"></a>
<FONT color="green">412</FONT>            /** Sets the recipient(s) of this SMS. Note that each invocation replaces the target list and re-calculates all prices - they are not additive! <a name="line.412"></a>
<FONT color="green">413</FONT>             * @param numbers Normalized phone number(s) of the intended recipient(s). <a name="line.413"></a>
<FONT color="green">414</FONT>             * @return success Set to true if the target list appears to contain valid, normalized telephone numbers. Note that this check is not very reliable. Actual target validity checking occurs asynchronously in the background, and manifests itself as a series of Sms.P_TARGET_STATUSES property change events. <a name="line.414"></a>
<FONT color="green">415</FONT>             */<a name="line.415"></a>
<FONT color="green">416</FONT>            public boolean setTargets(String[] numbers) {<a name="line.416"></a>
<FONT color="green">417</FONT>                    try {<a name="line.417"></a>
<FONT color="green">418</FONT>                            return sidDoRequest(setTargets_req)<a name="line.418"></a>
<FONT color="green">419</FONT>                            .addStringListParm(1, numbers)<a name="line.419"></a>
<FONT color="green">420</FONT>                            .endRequest().getBoolParm(1, true);<a name="line.420"></a>
<FONT color="green">421</FONT>                    } catch(IOException e) {<a name="line.421"></a>
<FONT color="green">422</FONT>                            mSidRoot.sidOnFatalError(e);<a name="line.422"></a>
<FONT color="green">423</FONT>                            return false;<a name="line.423"></a>
<FONT color="green">424</FONT>                    }<a name="line.424"></a>
<FONT color="green">425</FONT>            }<a name="line.425"></a>
<FONT color="green">426</FONT>            private final static byte[] setBody_req = {(byte) 90,(byte) 82,(byte) 12,(byte) 7};<a name="line.426"></a>
<FONT color="green">427</FONT>            public class SetBodyResponse {<a name="line.427"></a>
<FONT color="green">428</FONT>                    public SetBodyResult result;<a name="line.428"></a>
<FONT color="green">429</FONT>                    public String[] chunks;<a name="line.429"></a>
<FONT color="green">430</FONT>                    public int charsUntilNextChunk;<a name="line.430"></a>
<FONT color="green">431</FONT>            };<a name="line.431"></a>
<FONT color="green">432</FONT>            <a name="line.432"></a>
<FONT color="green">433</FONT>            /** -The- method for setting the body text of this SMS. While Conversation.PostSMS does have a body argument, that argument is currently unused. <a name="line.433"></a>
<FONT color="green">434</FONT>             * @param text Message body text. <a name="line.434"></a>
<FONT color="green">435</FONT>             * @return SetBodyResponse<a name="line.435"></a>
<FONT color="green">436</FONT>             * &lt;br&gt; - result Whether the Message body was successfully set and if not, why not. <a name="line.436"></a>
<FONT color="green">437</FONT>             * &lt;br&gt; - chunks The Message body as a list of individual chunks. <a name="line.437"></a>
<FONT color="green">438</FONT>             * &lt;br&gt; - charsUntilNextChunk Number of available characters until creation of the next chunk becomes necessary. <a name="line.438"></a>
<FONT color="green">439</FONT>             */<a name="line.439"></a>
<FONT color="green">440</FONT>            public SetBodyResponse setBody(String text) {<a name="line.440"></a>
<FONT color="green">441</FONT>                    try {<a name="line.441"></a>
<FONT color="green">442</FONT>                            Decoding decoder = sidDoRequest(setBody_req)<a name="line.442"></a>
<FONT color="green">443</FONT>                            .addStringParm(1, text)<a name="line.443"></a>
<FONT color="green">444</FONT>                            .endRequest();<a name="line.444"></a>
<FONT color="green">445</FONT>                            SetBodyResponse result = new SetBodyResponse();<a name="line.445"></a>
<FONT color="green">446</FONT>                            result.result = (SetBodyResult) decoder.getEnumParm(1, SetBodyResult.get(0), false);<a name="line.446"></a>
<FONT color="green">447</FONT>                            result.chunks = decoder.getStringListParm(2, false);<a name="line.447"></a>
<FONT color="green">448</FONT>                            result.charsUntilNextChunk = decoder.getUintParm(3, true);<a name="line.448"></a>
<FONT color="green">449</FONT>                            return result;<a name="line.449"></a>
<FONT color="green">450</FONT>                    } catch(IOException e) {<a name="line.450"></a>
<FONT color="green">451</FONT>                            mSidRoot.sidOnFatalError(e);<a name="line.451"></a>
<FONT color="green">452</FONT>                            return null;<a name="line.452"></a>
<FONT color="green">453</FONT>                    }<a name="line.453"></a>
<FONT color="green">454</FONT>            }<a name="line.454"></a>
<FONT color="green">455</FONT>            private final static byte[] getBodyChunks_req = {(byte) 90,(byte) 82,(byte) 12,(byte) 8};<a name="line.455"></a>
<FONT color="green">456</FONT>            public class GetBodyChunksResponse {<a name="line.456"></a>
<FONT color="green">457</FONT>                    public String[] textChunks;<a name="line.457"></a>
<FONT color="green">458</FONT>                    public int charsUntilNextChunk;<a name="line.458"></a>
<FONT color="green">459</FONT>            };<a name="line.459"></a>
<FONT color="green">460</FONT>            <a name="line.460"></a>
<FONT color="green">461</FONT>            /** Retrieves string list of SMS text chunks in first argument, while the second argument contains the number of available characters until creation of the next chunk becomes necessary. <a name="line.461"></a>
<FONT color="green">462</FONT>             * @return GetBodyChunksResponse<a name="line.462"></a>
<FONT color="green">463</FONT>             * &lt;br&gt; - textChunks List of text chunk strings <a name="line.463"></a>
<FONT color="green">464</FONT>             * &lt;br&gt; - charsUntilNextChunk Number of available characters until creation of the next chunk becomes necessary. <a name="line.464"></a>
<FONT color="green">465</FONT>             */<a name="line.465"></a>
<FONT color="green">466</FONT>            public GetBodyChunksResponse getBodyChunks() {<a name="line.466"></a>
<FONT color="green">467</FONT>                    try {<a name="line.467"></a>
<FONT color="green">468</FONT>                            Decoding decoder = sidDoRequest(getBodyChunks_req)<a name="line.468"></a>
<FONT color="green">469</FONT>                            .endRequest();<a name="line.469"></a>
<FONT color="green">470</FONT>                            GetBodyChunksResponse result = new GetBodyChunksResponse();<a name="line.470"></a>
<FONT color="green">471</FONT>                            result.textChunks = decoder.getStringListParm(1, false);<a name="line.471"></a>
<FONT color="green">472</FONT>                            result.charsUntilNextChunk = decoder.getUintParm(2, true);<a name="line.472"></a>
<FONT color="green">473</FONT>                            return result;<a name="line.473"></a>
<FONT color="green">474</FONT>                    } catch(IOException e) {<a name="line.474"></a>
<FONT color="green">475</FONT>                            mSidRoot.sidOnFatalError(e);<a name="line.475"></a>
<FONT color="green">476</FONT>                            return null;<a name="line.476"></a>
<FONT color="green">477</FONT>                    }<a name="line.477"></a>
<FONT color="green">478</FONT>            }<a name="line.478"></a>
<FONT color="green">479</FONT>            /***<a name="line.479"></a>
<FONT color="green">480</FONT>             * generic multiget of a list of Property<a name="line.480"></a>
<FONT color="green">481</FONT>             * @param requested the list of requested properties of Sms<a name="line.481"></a>
<FONT color="green">482</FONT>             * @return SidGetResponding<a name="line.482"></a>
<FONT color="green">483</FONT>             */<a name="line.483"></a>
<FONT color="green">484</FONT>            public SidGetResponding sidMultiGet(Property[] requested) {<a name="line.484"></a>
<FONT color="green">485</FONT>                    return super.sidMultiGet(requested);<a name="line.485"></a>
<FONT color="green">486</FONT>            }<a name="line.486"></a>
<FONT color="green">487</FONT>            /***<a name="line.487"></a>
<FONT color="green">488</FONT>             * generic multiget of list of Property for a list of Sms<a name="line.488"></a>
<FONT color="green">489</FONT>             * @param requested the list of requested properties<a name="line.489"></a>
<FONT color="green">490</FONT>             * @return SidGetResponding[] can be casted to (Sms[]) if all properties are cached<a name="line.490"></a>
<FONT color="green">491</FONT>             */<a name="line.491"></a>
<FONT color="green">492</FONT>            static public SidGetResponding[] sidMultiGet(Property[] requested, Sms[] objects) {<a name="line.492"></a>
<FONT color="green">493</FONT>                    return SidObject.sidMultiGet(requested, objects);<a name="line.493"></a>
<FONT color="green">494</FONT>            }<a name="line.494"></a>
<FONT color="green">495</FONT>            public Type getType() {<a name="line.495"></a>
<FONT color="green">496</FONT>                    synchronized(this) {<a name="line.496"></a>
<FONT color="green">497</FONT>                            if ((mSidCached &amp; 0x1) != 0)<a name="line.497"></a>
<FONT color="green">498</FONT>                                    return mType;<a name="line.498"></a>
<FONT color="green">499</FONT>                    }<a name="line.499"></a>
<FONT color="green">500</FONT>                    return (Type) sidRequestEnumProperty(Property.P_TYPE);<a name="line.500"></a>
<FONT color="green">501</FONT>            }<a name="line.501"></a>
<FONT color="green">502</FONT>            public OutgoingReplyType getOutgoingReplyType() {<a name="line.502"></a>
<FONT color="green">503</FONT>                    synchronized(this) {<a name="line.503"></a>
<FONT color="green">504</FONT>                            if ((mSidCached &amp; 0x2) != 0)<a name="line.504"></a>
<FONT color="green">505</FONT>                                    return mOutgoingReplyType;<a name="line.505"></a>
<FONT color="green">506</FONT>                    }<a name="line.506"></a>
<FONT color="green">507</FONT>                    return (OutgoingReplyType) sidRequestEnumProperty(Property.P_OUTGOING_REPLY_TYPE);<a name="line.507"></a>
<FONT color="green">508</FONT>            }<a name="line.508"></a>
<FONT color="green">509</FONT>            public Status getStatus() {<a name="line.509"></a>
<FONT color="green">510</FONT>                    synchronized(this) {<a name="line.510"></a>
<FONT color="green">511</FONT>                            if ((mSidCached &amp; 0x4) != 0)<a name="line.511"></a>
<FONT color="green">512</FONT>                                    return mStatus;<a name="line.512"></a>
<FONT color="green">513</FONT>                    }<a name="line.513"></a>
<FONT color="green">514</FONT>                    return (Status) sidRequestEnumProperty(Property.P_STATUS);<a name="line.514"></a>
<FONT color="green">515</FONT>            }<a name="line.515"></a>
<FONT color="green">516</FONT>            /** Set asynchronously and meaningful only after invoking Conversation.PostSMS and detecting Sms.STATUS of SOME_TARGETS_FAILED or FAILED.  */<a name="line.516"></a>
<FONT color="green">517</FONT>            public FailureReason getFailureReason() {<a name="line.517"></a>
<FONT color="green">518</FONT>                    synchronized(this) {<a name="line.518"></a>
<FONT color="green">519</FONT>                            if ((mSidCached &amp; 0x8) != 0)<a name="line.519"></a>
<FONT color="green">520</FONT>                                    return mFailureReason;<a name="line.520"></a>
<FONT color="green">521</FONT>                    }<a name="line.521"></a>
<FONT color="green">522</FONT>                    return (FailureReason) sidRequestEnumProperty(Property.P_FAILURE_REASON);<a name="line.522"></a>
<FONT color="green">523</FONT>            }<a name="line.523"></a>
<FONT color="green">524</FONT>            /** set to 1 when status goes to FAILED. use MarkSeen() to clear */<a name="line.524"></a>
<FONT color="green">525</FONT>            public boolean getIsFailedUnseen() {<a name="line.525"></a>
<FONT color="green">526</FONT>                    synchronized(this) {<a name="line.526"></a>
<FONT color="green">527</FONT>                            if ((mSidCached &amp; 0x10) != 0)<a name="line.527"></a>
<FONT color="green">528</FONT>                                    return mIsFailedUnseen;<a name="line.528"></a>
<FONT color="green">529</FONT>                    }<a name="line.529"></a>
<FONT color="green">530</FONT>                    return sidRequestBoolProperty(Property.P_IS_FAILED_UNSEEN);<a name="line.530"></a>
<FONT color="green">531</FONT>            }<a name="line.531"></a>
<FONT color="green">532</FONT>            /** unix timestamp of message submission */<a name="line.532"></a>
<FONT color="green">533</FONT>            public long getTimestamp() {<a name="line.533"></a>
<FONT color="green">534</FONT>                    synchronized(this) {<a name="line.534"></a>
<FONT color="green">535</FONT>                            if ((mSidCached &amp; 0x20) != 0)<a name="line.535"></a>
<FONT color="green">536</FONT>                                    return mTimestamp;<a name="line.536"></a>
<FONT color="green">537</FONT>                    }<a name="line.537"></a>
<FONT color="green">538</FONT>                    return sidRequestTimestampProperty(Property.P_TIMESTAMP);<a name="line.538"></a>
<FONT color="green">539</FONT>            }<a name="line.539"></a>
<FONT color="green">540</FONT>            /**<a name="line.540"></a>
<FONT color="green">541</FONT>             * The total price of sending this SMS message (sum of the individual prices to send to each recipient). Defaults to -1 on instantiation and incremented by the price for each recipient once that recipient's status reflects TARGET_ACCEPTABLE. Use Sms.GetTargetPrice to retrieve individual target prices. <a name="line.541"></a>
<FONT color="green">542</FONT>             * <a name="line.542"></a>
<FONT color="green">543</FONT>             * A value of MAX_UINT indicates that SkypeKit is actively querying and/or updating the value. Note that P_PRICE is an integer value. Calculate the actual price (in units specified by P_PRICE_CURRENCY) using P_PRICE_PRECISION as: <a name="line.543"></a>
<FONT color="green">544</FONT>             * <a name="line.544"></a>
<FONT color="green">545</FONT>             * @code <a name="line.545"></a>
<FONT color="green">546</FONT>             * actualPrice = price / 10^pricePrecision;  <a name="line.546"></a>
<FONT color="green">547</FONT>             * &lt;/CODE&gt; <a name="line.547"></a>
<FONT color="green">548</FONT>             */<a name="line.548"></a>
<FONT color="green">549</FONT>            public int getPrice() {<a name="line.549"></a>
<FONT color="green">550</FONT>                    synchronized(this) {<a name="line.550"></a>
<FONT color="green">551</FONT>                            if ((mSidCached &amp; 0x40) != 0)<a name="line.551"></a>
<FONT color="green">552</FONT>                                    return mPrice;<a name="line.552"></a>
<FONT color="green">553</FONT>                    }<a name="line.553"></a>
<FONT color="green">554</FONT>                    return sidRequestUintProperty(Property.P_PRICE);<a name="line.554"></a>
<FONT color="green">555</FONT>            }<a name="line.555"></a>
<FONT color="green">556</FONT>            /** The decimal precision of the SMS price values, both individual and total. For example, a value of 2 indicates that you should divide the price (represented as an integer) by 100 (10^2) to obtain the actual price.  */<a name="line.556"></a>
<FONT color="green">557</FONT>            public int getPricePrecision() {<a name="line.557"></a>
<FONT color="green">558</FONT>                    synchronized(this) {<a name="line.558"></a>
<FONT color="green">559</FONT>                            if ((mSidCached &amp; 0x80) != 0)<a name="line.559"></a>
<FONT color="green">560</FONT>                                    return mPricePrecision;<a name="line.560"></a>
<FONT color="green">561</FONT>                    }<a name="line.561"></a>
<FONT color="green">562</FONT>                    return sidRequestUintProperty(Property.P_PRICE_PRECISION);<a name="line.562"></a>
<FONT color="green">563</FONT>            }<a name="line.563"></a>
<FONT color="green">564</FONT>            /** should be same as account currency at the time of composing/sending */<a name="line.564"></a>
<FONT color="green">565</FONT>            public String getPriceCurrency() {              synchronized(this) {<a name="line.565"></a>
<FONT color="green">566</FONT>                            if ((mSidCached &amp; 0x100) != 0)<a name="line.566"></a>
<FONT color="green">567</FONT>                                    return mPriceCurrency;<a name="line.567"></a>
<FONT color="green">568</FONT>                    }<a name="line.568"></a>
<FONT color="green">569</FONT>                    return sidRequestStringProperty(Property.P_PRICE_CURRENCY);<a name="line.569"></a>
<FONT color="green">570</FONT>            }<a name="line.570"></a>
<FONT color="green">571</FONT>            /** TYPE is outgoing: number that should receive the replies (DEPRECATED). TYPE is incoming: original source mobile number */<a name="line.571"></a>
<FONT color="green">572</FONT>            public String getReplyToNumber() {<a name="line.572"></a>
<FONT color="green">573</FONT>                    synchronized(this) {<a name="line.573"></a>
<FONT color="green">574</FONT>                            if ((mSidCached &amp; 0x200) != 0)<a name="line.574"></a>
<FONT color="green">575</FONT>                                    return mReplyToNumber;<a name="line.575"></a>
<FONT color="green">576</FONT>                    }<a name="line.576"></a>
<FONT color="green">577</FONT>                    return sidRequestStringProperty(Property.P_REPLY_TO_NUMBER);<a name="line.577"></a>
<FONT color="green">578</FONT>            }<a name="line.578"></a>
<FONT color="green">579</FONT>            /** space-separated normalised pstn numbers */<a name="line.579"></a>
<FONT color="green">580</FONT>            public String getTargetNumbers() {<a name="line.580"></a>
<FONT color="green">581</FONT>                    synchronized(this) {<a name="line.581"></a>
<FONT color="green">582</FONT>                            if ((mSidCached &amp; 0x400) != 0)<a name="line.582"></a>
<FONT color="green">583</FONT>                                    return mTargetNumbers;<a name="line.583"></a>
<FONT color="green">584</FONT>                    }<a name="line.584"></a>
<FONT color="green">585</FONT>                    return sidRequestStringProperty(Property.P_TARGET_NUMBERS);<a name="line.585"></a>
<FONT color="green">586</FONT>            }<a name="line.586"></a>
<FONT color="green">587</FONT>            /** binary blob. track with OnPropertyChange(), access with GetTargetStatus(target) */<a name="line.587"></a>
<FONT color="green">588</FONT>            public byte[] getTargetStatuses() {<a name="line.588"></a>
<FONT color="green">589</FONT>                    synchronized(this) {<a name="line.589"></a>
<FONT color="green">590</FONT>                            if ((mSidCached &amp; 0x800) != 0)<a name="line.590"></a>
<FONT color="green">591</FONT>                                    return mTargetStatuses;<a name="line.591"></a>
<FONT color="green">592</FONT>                    }<a name="line.592"></a>
<FONT color="green">593</FONT>                    return sidRequestBinaryProperty(Property.P_TARGET_STATUSES);<a name="line.593"></a>
<FONT color="green">594</FONT>            }<a name="line.594"></a>
<FONT color="green">595</FONT>            /** actual payload */<a name="line.595"></a>
<FONT color="green">596</FONT>            public String getBody() {<a name="line.596"></a>
<FONT color="green">597</FONT>                    synchronized(this) {<a name="line.597"></a>
<FONT color="green">598</FONT>                            if ((mSidCached &amp; 0x1000) != 0)<a name="line.598"></a>
<FONT color="green">599</FONT>                                    return mBody;<a name="line.599"></a>
<FONT color="green">600</FONT>                    }<a name="line.600"></a>
<FONT color="green">601</FONT>                    return sidRequestStringProperty(Property.P_BODY);<a name="line.601"></a>
<FONT color="green">602</FONT>            }<a name="line.602"></a>
<FONT color="green">603</FONT>            /** reference to Message */<a name="line.603"></a>
<FONT color="green">604</FONT>            public Message getChatMsg() {<a name="line.604"></a>
<FONT color="green">605</FONT>                    synchronized(this) {<a name="line.605"></a>
<FONT color="green">606</FONT>                            if ((mSidCached &amp; 0x2000) != 0)<a name="line.606"></a>
<FONT color="green">607</FONT>                                    return mChatMsg;<a name="line.607"></a>
<FONT color="green">608</FONT>                    }<a name="line.608"></a>
<FONT color="green">609</FONT>                    return (Message) sidRequestObjectProperty(Property.P_CHAT_MSG);<a name="line.609"></a>
<FONT color="green">610</FONT>            }<a name="line.610"></a>
<FONT color="green">611</FONT>            public String sidGetStringProperty(final PropertyEnumConverting prop) {<a name="line.611"></a>
<FONT color="green">612</FONT>                    switch(prop.getId()) {<a name="line.612"></a>
<FONT color="green">613</FONT>                    case 194:<a name="line.613"></a>
<FONT color="green">614</FONT>                            return mPriceCurrency;<a name="line.614"></a>
<FONT color="green">615</FONT>                    case 199:<a name="line.615"></a>
<FONT color="green">616</FONT>                            return mReplyToNumber;<a name="line.616"></a>
<FONT color="green">617</FONT>                    case 195:<a name="line.617"></a>
<FONT color="green">618</FONT>                            return mTargetNumbers;<a name="line.618"></a>
<FONT color="green">619</FONT>                    case 197:<a name="line.619"></a>
<FONT color="green">620</FONT>                            return mBody;<a name="line.620"></a>
<FONT color="green">621</FONT>                    }<a name="line.621"></a>
<FONT color="green">622</FONT>                    return "";<a name="line.622"></a>
<FONT color="green">623</FONT>            }<a name="line.623"></a>
<FONT color="green">624</FONT>            public SidObject sidGetObjectProperty(final PropertyEnumConverting prop) {<a name="line.624"></a>
<FONT color="green">625</FONT>                    assert(prop.getId() == 840);<a name="line.625"></a>
<FONT color="green">626</FONT>                    return mChatMsg;<a name="line.626"></a>
<FONT color="green">627</FONT>            }<a name="line.627"></a>
<FONT color="green">628</FONT>            public boolean sidGetBoolProperty(final PropertyEnumConverting prop) {<a name="line.628"></a>
<FONT color="green">629</FONT>                    assert(prop.getId() == 48);<a name="line.629"></a>
<FONT color="green">630</FONT>                    return mIsFailedUnseen;<a name="line.630"></a>
<FONT color="green">631</FONT>            }<a name="line.631"></a>
<FONT color="green">632</FONT>            public int sidGetIntProperty(final PropertyEnumConverting prop) {<a name="line.632"></a>
<FONT color="green">633</FONT>                    switch(prop.getId()) {<a name="line.633"></a>
<FONT color="green">634</FONT>                    case 193:<a name="line.634"></a>
<FONT color="green">635</FONT>                            return mPrice;<a name="line.635"></a>
<FONT color="green">636</FONT>                    case 49:<a name="line.636"></a>
<FONT color="green">637</FONT>                            return mPricePrecision;<a name="line.637"></a>
<FONT color="green">638</FONT>                    }<a name="line.638"></a>
<FONT color="green">639</FONT>                    return 0;<a name="line.639"></a>
<FONT color="green">640</FONT>            }<a name="line.640"></a>
<FONT color="green">641</FONT>            public EnumConverting sidGetEnumProperty(final PropertyEnumConverting prop) {<a name="line.641"></a>
<FONT color="green">642</FONT>                    switch(prop.getId()) {<a name="line.642"></a>
<FONT color="green">643</FONT>                    case 190:<a name="line.643"></a>
<FONT color="green">644</FONT>                            return mType;<a name="line.644"></a>
<FONT color="green">645</FONT>                    case 1211:<a name="line.645"></a>
<FONT color="green">646</FONT>                            return mOutgoingReplyType;<a name="line.646"></a>
<FONT color="green">647</FONT>                    case 191:<a name="line.647"></a>
<FONT color="green">648</FONT>                            return mStatus;<a name="line.648"></a>
<FONT color="green">649</FONT>                    case 192:<a name="line.649"></a>
<FONT color="green">650</FONT>                            return mFailureReason;<a name="line.650"></a>
<FONT color="green">651</FONT>                    }<a name="line.651"></a>
<FONT color="green">652</FONT>                    return null;<a name="line.652"></a>
<FONT color="green">653</FONT>            }<a name="line.653"></a>
<FONT color="green">654</FONT>            public byte[] sidGetBinaryProperty(final PropertyEnumConverting prop) {<a name="line.654"></a>
<FONT color="green">655</FONT>                    assert(prop.getId() == 196);<a name="line.655"></a>
<FONT color="green">656</FONT>                    return mTargetStatuses;<a name="line.656"></a>
<FONT color="green">657</FONT>            }<a name="line.657"></a>
<FONT color="green">658</FONT>            public String getPropertyAsString(final int prop) {<a name="line.658"></a>
<FONT color="green">659</FONT>                    switch (prop) {<a name="line.659"></a>
<FONT color="green">660</FONT>                    case 190: return getType().toString();<a name="line.660"></a>
<FONT color="green">661</FONT>                    case 1211: return getOutgoingReplyType().toString();<a name="line.661"></a>
<FONT color="green">662</FONT>                    case 191: return getStatus().toString();<a name="line.662"></a>
<FONT color="green">663</FONT>                    case 192: return getFailureReason().toString();<a name="line.663"></a>
<FONT color="green">664</FONT>                    case 48: return Boolean.toString(getIsFailedUnseen());<a name="line.664"></a>
<FONT color="green">665</FONT>                    case 193: return Integer.toString(getPrice());<a name="line.665"></a>
<FONT color="green">666</FONT>                    case 49: return Integer.toString(getPricePrecision());<a name="line.666"></a>
<FONT color="green">667</FONT>                    case 194: return getPriceCurrency();<a name="line.667"></a>
<FONT color="green">668</FONT>                    case 199: return getReplyToNumber();<a name="line.668"></a>
<FONT color="green">669</FONT>                    case 195: return getTargetNumbers();<a name="line.669"></a>
<FONT color="green">670</FONT>                    case 196: return "&lt;binary&gt;";<a name="line.670"></a>
<FONT color="green">671</FONT>                    case 197: return getBody();<a name="line.671"></a>
<FONT color="green">672</FONT>                    case 840: return getChatMsg() != null ? Integer.toString(getChatMsg().getOid()) : "(null)";<a name="line.672"></a>
<FONT color="green">673</FONT>                    }<a name="line.673"></a>
<FONT color="green">674</FONT>                    return "&lt;unkown&gt;";<a name="line.674"></a>
<FONT color="green">675</FONT>            }<a name="line.675"></a>
<FONT color="green">676</FONT>            public String getPropertyAsString(final Property prop) {<a name="line.676"></a>
<FONT color="green">677</FONT>                    return getPropertyAsString(prop.getId());<a name="line.677"></a>
<FONT color="green">678</FONT>            }<a name="line.678"></a>
<FONT color="green">679</FONT>            protected void sidOnChangedProperty(final int propertyId, final int value, final String svalue) {<a name="line.679"></a>
<FONT color="green">680</FONT>                    final Property property = Property.get(propertyId);<a name="line.680"></a>
<FONT color="green">681</FONT>                    if (property == Property.P_UNKNOWN) return;<a name="line.681"></a>
<FONT color="green">682</FONT>                    final int idx = property.getIdx();<a name="line.682"></a>
<FONT color="green">683</FONT>                    if (idx != 0) {<a name="line.683"></a>
<FONT color="green">684</FONT>                            int bit  = 1&lt;&lt;((idx-1)%32);<a name="line.684"></a>
<FONT color="green">685</FONT>                            synchronized (this) {<a name="line.685"></a>
<FONT color="green">686</FONT>                                    mSidCached|=bit;<a name="line.686"></a>
<FONT color="green">687</FONT>                                    switch (propertyId) {<a name="line.687"></a>
<FONT color="green">688</FONT>                                    case 190: mType = Type.get(value); break;<a name="line.688"></a>
<FONT color="green">689</FONT>                                    case 1211: mOutgoingReplyType = OutgoingReplyType.get(value); break;<a name="line.689"></a>
<FONT color="green">690</FONT>                                    case 191: mStatus = Status.get(value); break;<a name="line.690"></a>
<FONT color="green">691</FONT>                                    case 192: mFailureReason = FailureReason.get(value); break;<a name="line.691"></a>
<FONT color="green">692</FONT>                                    case 48: mIsFailedUnseen = value != 0; break;<a name="line.692"></a>
<FONT color="green">693</FONT>                                    case 193: mPrice = value; break;<a name="line.693"></a>
<FONT color="green">694</FONT>                                    case 49: mPricePrecision = value; break;<a name="line.694"></a>
<FONT color="green">695</FONT>                                    case 194:<a name="line.695"></a>
<FONT color="green">696</FONT>                                            if (svalue != null) mPriceCurrency = svalue;<a name="line.696"></a>
<FONT color="green">697</FONT>                                            else mSidCached &amp;=~bit;<a name="line.697"></a>
<FONT color="green">698</FONT>                                            break;<a name="line.698"></a>
<FONT color="green">699</FONT>                                    case 199:<a name="line.699"></a>
<FONT color="green">700</FONT>                                            if (svalue != null) mReplyToNumber = svalue;<a name="line.700"></a>
<FONT color="green">701</FONT>                                            else mSidCached &amp;=~bit;<a name="line.701"></a>
<FONT color="green">702</FONT>                                            break;<a name="line.702"></a>
<FONT color="green">703</FONT>                                    case 195:<a name="line.703"></a>
<FONT color="green">704</FONT>                                            if (svalue != null) mTargetNumbers = svalue;<a name="line.704"></a>
<FONT color="green">705</FONT>                                            else mSidCached &amp;=~bit;<a name="line.705"></a>
<FONT color="green">706</FONT>                                            break;<a name="line.706"></a>
<FONT color="green">707</FONT>                                    case 197:<a name="line.707"></a>
<FONT color="green">708</FONT>                                            if (svalue != null) mBody = svalue;<a name="line.708"></a>
<FONT color="green">709</FONT>                                            else mSidCached &amp;=~bit;<a name="line.709"></a>
<FONT color="green">710</FONT>                                            break;<a name="line.710"></a>
<FONT color="green">711</FONT>                                    case 840:<a name="line.711"></a>
<FONT color="green">712</FONT>                                            if (value != 0)<a name="line.712"></a>
<FONT color="green">713</FONT>                                                    mChatMsg = (Message) mSidRoot.sidGetObject(property.getModuleId(), value);<a name="line.713"></a>
<FONT color="green">714</FONT>                                            else {<a name="line.714"></a>
<FONT color="green">715</FONT>                                                    mChatMsg = null;<a name="line.715"></a>
<FONT color="green">716</FONT>                                                    mSidCached &amp;=~bit;<a name="line.716"></a>
<FONT color="green">717</FONT>                                            }<a name="line.717"></a>
<FONT color="green">718</FONT>                                            break;<a name="line.718"></a>
<FONT color="green">719</FONT>                                    default: mSidCached&amp;=~bit; break;<a name="line.719"></a>
<FONT color="green">720</FONT>                                    }<a name="line.720"></a>
<FONT color="green">721</FONT>                            }<a name="line.721"></a>
<FONT color="green">722</FONT>                    }<a name="line.722"></a>
<FONT color="green">723</FONT>                    SmsListener listener = ((Skype) mSidRoot).getSmsListener();<a name="line.723"></a>
<FONT color="green">724</FONT>                    if (listener != null)<a name="line.724"></a>
<FONT color="green">725</FONT>                            listener.onPropertyChange(this, property, value, svalue);<a name="line.725"></a>
<FONT color="green">726</FONT>            }<a name="line.726"></a>
<FONT color="green">727</FONT>            public void sidSetProperty(final PropertyEnumConverting prop, final String newValue) {<a name="line.727"></a>
<FONT color="green">728</FONT>                    final int propId = prop.getId();<a name="line.728"></a>
<FONT color="green">729</FONT>                    switch(propId) {<a name="line.729"></a>
<FONT color="green">730</FONT>                    case 194:<a name="line.730"></a>
<FONT color="green">731</FONT>                            mSidCached |= 0x100;<a name="line.731"></a>
<FONT color="green">732</FONT>                            mPriceCurrency=  newValue;<a name="line.732"></a>
<FONT color="green">733</FONT>                            break;<a name="line.733"></a>
<FONT color="green">734</FONT>                    case 199:<a name="line.734"></a>
<FONT color="green">735</FONT>                            mSidCached |= 0x200;<a name="line.735"></a>
<FONT color="green">736</FONT>                            mReplyToNumber=  newValue;<a name="line.736"></a>
<FONT color="green">737</FONT>                            break;<a name="line.737"></a>
<FONT color="green">738</FONT>                    case 195:<a name="line.738"></a>
<FONT color="green">739</FONT>                            mSidCached |= 0x400;<a name="line.739"></a>
<FONT color="green">740</FONT>                            mTargetNumbers=  newValue;<a name="line.740"></a>
<FONT color="green">741</FONT>                            break;<a name="line.741"></a>
<FONT color="green">742</FONT>                    case 197:<a name="line.742"></a>
<FONT color="green">743</FONT>                            mSidCached |= 0x1000;<a name="line.743"></a>
<FONT color="green">744</FONT>                            mBody=  newValue;<a name="line.744"></a>
<FONT color="green">745</FONT>                            break;<a name="line.745"></a>
<FONT color="green">746</FONT>                    }<a name="line.746"></a>
<FONT color="green">747</FONT>            }<a name="line.747"></a>
<FONT color="green">748</FONT>            public void sidSetProperty(final PropertyEnumConverting prop, final SidObject newValue) {<a name="line.748"></a>
<FONT color="green">749</FONT>                    final int propId = prop.getId();<a name="line.749"></a>
<FONT color="green">750</FONT>                    assert(propId == 840);<a name="line.750"></a>
<FONT color="green">751</FONT>                    mSidCached |= 0x2000;<a name="line.751"></a>
<FONT color="green">752</FONT>                    mChatMsg= (Message) newValue;<a name="line.752"></a>
<FONT color="green">753</FONT>            }<a name="line.753"></a>
<FONT color="green">754</FONT>            public void sidSetProperty(final PropertyEnumConverting prop, final int newValue) {<a name="line.754"></a>
<FONT color="green">755</FONT>                    final int propId = prop.getId();<a name="line.755"></a>
<FONT color="green">756</FONT>                    switch(propId) {<a name="line.756"></a>
<FONT color="green">757</FONT>                    case 190:<a name="line.757"></a>
<FONT color="green">758</FONT>                            mSidCached |= 0x1;<a name="line.758"></a>
<FONT color="green">759</FONT>                            mType= Type.get(newValue);<a name="line.759"></a>
<FONT color="green">760</FONT>                            break;<a name="line.760"></a>
<FONT color="green">761</FONT>                    case 1211:<a name="line.761"></a>
<FONT color="green">762</FONT>                            mSidCached |= 0x2;<a name="line.762"></a>
<FONT color="green">763</FONT>                            mOutgoingReplyType= OutgoingReplyType.get(newValue);<a name="line.763"></a>
<FONT color="green">764</FONT>                            break;<a name="line.764"></a>
<FONT color="green">765</FONT>                    case 191:<a name="line.765"></a>
<FONT color="green">766</FONT>                            mSidCached |= 0x4;<a name="line.766"></a>
<FONT color="green">767</FONT>                            mStatus= Status.get(newValue);<a name="line.767"></a>
<FONT color="green">768</FONT>                            break;<a name="line.768"></a>
<FONT color="green">769</FONT>                    case 192:<a name="line.769"></a>
<FONT color="green">770</FONT>                            mSidCached |= 0x8;<a name="line.770"></a>
<FONT color="green">771</FONT>                            mFailureReason= FailureReason.get(newValue);<a name="line.771"></a>
<FONT color="green">772</FONT>                            break;<a name="line.772"></a>
<FONT color="green">773</FONT>                    case 48:<a name="line.773"></a>
<FONT color="green">774</FONT>                            mSidCached |= 0x10;<a name="line.774"></a>
<FONT color="green">775</FONT>                            mIsFailedUnseen= newValue != 0;<a name="line.775"></a>
<FONT color="green">776</FONT>                            break;<a name="line.776"></a>
<FONT color="green">777</FONT>                    case 193:<a name="line.777"></a>
<FONT color="green">778</FONT>                            mSidCached |= 0x40;<a name="line.778"></a>
<FONT color="green">779</FONT>                            mPrice=  newValue;<a name="line.779"></a>
<FONT color="green">780</FONT>                            break;<a name="line.780"></a>
<FONT color="green">781</FONT>                    case 49:<a name="line.781"></a>
<FONT color="green">782</FONT>                            mSidCached |= 0x80;<a name="line.782"></a>
<FONT color="green">783</FONT>                            mPricePrecision=  newValue;<a name="line.783"></a>
<FONT color="green">784</FONT>                            break;<a name="line.784"></a>
<FONT color="green">785</FONT>                    }<a name="line.785"></a>
<FONT color="green">786</FONT>            }<a name="line.786"></a>
<FONT color="green">787</FONT>            public void sidSetProperty(final PropertyEnumConverting prop, final byte[] newValue) {<a name="line.787"></a>
<FONT color="green">788</FONT>                    final int propId = prop.getId();<a name="line.788"></a>
<FONT color="green">789</FONT>                    assert(propId == 196);<a name="line.789"></a>
<FONT color="green">790</FONT>                    mSidCached |= 0x800;<a name="line.790"></a>
<FONT color="green">791</FONT>                    mTargetStatuses=  newValue;<a name="line.791"></a>
<FONT color="green">792</FONT>            }<a name="line.792"></a>
<FONT color="green">793</FONT>            public Type              mType;<a name="line.793"></a>
<FONT color="green">794</FONT>            public OutgoingReplyType mOutgoingReplyType;<a name="line.794"></a>
<FONT color="green">795</FONT>            public Status            mStatus;<a name="line.795"></a>
<FONT color="green">796</FONT>            public FailureReason     mFailureReason;<a name="line.796"></a>
<FONT color="green">797</FONT>            public boolean           mIsFailedUnseen;<a name="line.797"></a>
<FONT color="green">798</FONT>            public long              mTimestamp;<a name="line.798"></a>
<FONT color="green">799</FONT>            public int               mPrice;<a name="line.799"></a>
<FONT color="green">800</FONT>            public int               mPricePrecision;<a name="line.800"></a>
<FONT color="green">801</FONT>            public String            mPriceCurrency;<a name="line.801"></a>
<FONT color="green">802</FONT>            public String            mReplyToNumber;<a name="line.802"></a>
<FONT color="green">803</FONT>            public String            mTargetNumbers;<a name="line.803"></a>
<FONT color="green">804</FONT>            public byte[]            mTargetStatuses;<a name="line.804"></a>
<FONT color="green">805</FONT>            public String            mBody;<a name="line.805"></a>
<FONT color="green">806</FONT>            public Message           mChatMsg;<a name="line.806"></a>
<FONT color="green">807</FONT>            public int moduleId() {<a name="line.807"></a>
<FONT color="green">808</FONT>                    return 12;<a name="line.808"></a>
<FONT color="green">809</FONT>            }<a name="line.809"></a>
<FONT color="green">810</FONT>            <a name="line.810"></a>
<FONT color="green">811</FONT>            public Sms(final int oid, final SidRoot root) {<a name="line.811"></a>
<FONT color="green">812</FONT>                    super(oid, root, 14);<a name="line.812"></a>
<FONT color="green">813</FONT>            }<a name="line.813"></a>
<FONT color="green">814</FONT>    }<a name="line.814"></a>




























































</PRE>
</BODY>
</HTML>
